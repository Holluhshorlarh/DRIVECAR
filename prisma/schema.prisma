datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model Car {
  id          String   @id @default(uuid())
  make        String
  model       String
  year        Int
  price       Int
  available   Boolean  @default(true)
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
  adminEmail  String   @db.VarChar(255) // Reference the email of the admin who created the car

  hires       Hire[]   @relation("carToHire")
  
  @@map("car")
}

model Hire {
  id          String   @id @default(uuid())
  vehicle     Car      @relation("carToHire", fields: [carId], references: [id])
  carId       String
  customer    String   @db.VarChar(255)
  startDate   DateTime
  endDate     DateTime
  totalDays   Int
  totalPrice  Int
  createdAt   DateTime @default(now())

  @@map("hire")
}
